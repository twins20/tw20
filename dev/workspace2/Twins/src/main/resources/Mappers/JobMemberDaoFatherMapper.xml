<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.twins.t20.Dao.JobMemberDaoFatherMapper">

	<insert id="insertJobMember" parameterType="JobMemberVo">
		insert into job_member 
	  (jmidx, jmid, jmpsword, jmname, jmaddr, jmemail, jmregdate, jmregister, jmgrade)
	  values (#{jmidx}, #{jmid}, #{jmpsword}, #{jmname}, #{jmaddr}, #{jmemail}, #{jmregdate}, 
	  ‘y’, #{jmgrade}) 
	</insert>
	
	<select id="confirmJobMemberID" parameterType="String" resultType="Integer">
		select * from job_member where jmid=#{jmid}
	</select>
	
	<select id="loginJobMember" parameterType="HashMap">
		select jmid, jmpsword, jmname from job_member 
   			where jmid=#{jmid} and jmpsword=#{jmpsword} and jmregister=’y’
	</select>
	
	<select id="getIDJobMember" parameterType="HashMap" resultType="String">
		select jmid from job_member where jmname=#{jmname} and jmemail=#{jmemial} and jmregister=’y’
	</select>
	
	<select id="getPswordJobMember" parameterType="HashMap" resultType="String">
		select jmpsword, jmemail from JOB_MEMBER 
  			where jmid=#{jmid} and jmemail=#{jmemail} and jmregister=’y’
	</select>
	
	<update id="deleteJobMember" parameterType="HashMap">
		update job_member set jmregister=#{jmregister} where jmidx=#{jmidx} and jmid != ’admin’
	</update>
	
	<update id="changePsword" parameterType="HashMap">
		update job_member  set jmpsword=#{jmpsword} where jmid=#{jmid}
	</update>
	
	<update id="modifyJobMember" parameterType="HashMap">
		update job_member set jmemail=#{jmemail}, jmaddr=#{jmaddr}, where jmid=#{jmid}
	</update>
</mapper>
